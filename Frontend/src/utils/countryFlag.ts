const COUNTRY_TO_FLAG: Record<string, string> = {
  Portugal: 'ğŸ‡µğŸ‡¹',
  Spain: 'ğŸ‡ªğŸ‡¸',
  Serbia: 'ğŸ‡·ğŸ‡¸',
  Russia: 'ğŸ‡·ğŸ‡º',
  'United Kingdom': 'ğŸ‡¬ğŸ‡§',
  UK: 'ğŸ‡¬ğŸ‡§',
  Germany: 'ğŸ‡©ğŸ‡ª',
  France: 'ğŸ‡«ğŸ‡·',
  Italy: 'ğŸ‡®ğŸ‡¹',
  Netherlands: 'ğŸ‡³ğŸ‡±',
  Belgium: 'ğŸ‡§ğŸ‡ª',
  Austria: 'ğŸ‡¦ğŸ‡¹',
  Switzerland: 'ğŸ‡¨ğŸ‡­',
  Poland: 'ğŸ‡µğŸ‡±',
  Greece: 'ğŸ‡¬ğŸ‡·',
  Turkey: 'ğŸ‡¹ğŸ‡·',
  Croatia: 'ğŸ‡­ğŸ‡·',
  Slovenia: 'ğŸ‡¸ğŸ‡®',
  'Czech Republic': 'ğŸ‡¨ğŸ‡¿',
  Czechia: 'ğŸ‡¨ğŸ‡¿',
  Slovakia: 'ğŸ‡¸ğŸ‡°',
  Hungary: 'ğŸ‡­ğŸ‡º',
  Romania: 'ğŸ‡·ğŸ‡´',
  Bulgaria: 'ğŸ‡§ğŸ‡¬',
  Ukraine: 'ğŸ‡ºğŸ‡¦',
  'United States': 'ğŸ‡ºğŸ‡¸',
  USA: 'ğŸ‡ºğŸ‡¸',
  'United States of America': 'ğŸ‡ºğŸ‡¸',
  Canada: 'ğŸ‡¨ğŸ‡¦',
  Mexico: 'ğŸ‡²ğŸ‡½',
  Brazil: 'ğŸ‡§ğŸ‡·',
  Argentina: 'ğŸ‡¦ğŸ‡·',
  Chile: 'ğŸ‡¨ğŸ‡±',
  Colombia: 'ğŸ‡¨ğŸ‡´',
  Peru: 'ğŸ‡µğŸ‡ª',
  Morocco: 'ğŸ‡²ğŸ‡¦',
  Egypt: 'ğŸ‡ªğŸ‡¬',
  'South Africa': 'ğŸ‡¿ğŸ‡¦',
  India: 'ğŸ‡®ğŸ‡³',
  China: 'ğŸ‡¨ğŸ‡³',
  Japan: 'ğŸ‡¯ğŸ‡µ',
  'South Korea': 'ğŸ‡°ğŸ‡·',
  Korea: 'ğŸ‡°ğŸ‡·',
  Australia: 'ğŸ‡¦ğŸ‡º',
  'New Zealand': 'ğŸ‡³ğŸ‡¿',
  UAE: 'ğŸ‡¦ğŸ‡ª',
  'United Arab Emirates': 'ğŸ‡¦ğŸ‡ª',
  Qatar: 'ğŸ‡¶ğŸ‡¦',
  'Saudi Arabia': 'ğŸ‡¸ğŸ‡¦',
  Israel: 'ğŸ‡®ğŸ‡±',
  Malta: 'ğŸ‡²ğŸ‡¹',
  Cyprus: 'ğŸ‡¨ğŸ‡¾',
  Ireland: 'ğŸ‡®ğŸ‡ª',
  Sweden: 'ğŸ‡¸ğŸ‡ª',
  Norway: 'ğŸ‡³ğŸ‡´',
  Denmark: 'ğŸ‡©ğŸ‡°',
  Finland: 'ğŸ‡«ğŸ‡®',
  Iceland: 'ğŸ‡®ğŸ‡¸',
  Estonia: 'ğŸ‡ªğŸ‡ª',
  Latvia: 'ğŸ‡±ğŸ‡»',
  Lithuania: 'ğŸ‡±ğŸ‡¹',
  Luxembourg: 'ğŸ‡±ğŸ‡º',
  Monaco: 'ğŸ‡²ğŸ‡¨',
  Andorra: 'ğŸ‡¦ğŸ‡©',
  Montenegro: 'ğŸ‡²ğŸ‡ª',
  'North Macedonia': 'ğŸ‡²ğŸ‡°',
  Macedonia: 'ğŸ‡²ğŸ‡°',
  Albania: 'ğŸ‡¦ğŸ‡±',
  Bosnia: 'ğŸ‡§ğŸ‡¦',
  'Bosnia and Herzegovina': 'ğŸ‡§ğŸ‡¦',
  Moldova: 'ğŸ‡²ğŸ‡©',
  Belarus: 'ğŸ‡§ğŸ‡¾',
  Georgia: 'ğŸ‡¬ğŸ‡ª',
  Armenia: 'ğŸ‡¦ğŸ‡²',
  Azerbaijan: 'ğŸ‡¦ğŸ‡¿',
  Kazakhstan: 'ğŸ‡°ğŸ‡¿',
  Indonesia: 'ğŸ‡®ğŸ‡©',
  Malaysia: 'ğŸ‡²ğŸ‡¾',
  Singapore: 'ğŸ‡¸ğŸ‡¬',
  Thailand: 'ğŸ‡¹ğŸ‡­',
  Philippines: 'ğŸ‡µğŸ‡­',
  Vietnam: 'ğŸ‡»ğŸ‡³',
  Pakistan: 'ğŸ‡µğŸ‡°',
  Bangladesh: 'ğŸ‡§ğŸ‡©',
  'Sri Lanka': 'ğŸ‡±ğŸ‡°',
  Nigeria: 'ğŸ‡³ğŸ‡¬',
  Kenya: 'ğŸ‡°ğŸ‡ª',
  Ghana: 'ğŸ‡¬ğŸ‡­',
  Tunisia: 'ğŸ‡¹ğŸ‡³',
  Algeria: 'ğŸ‡©ğŸ‡¿',
  Venezuela: 'ğŸ‡»ğŸ‡ª',
  Ecuador: 'ğŸ‡ªğŸ‡¨',
  Uruguay: 'ğŸ‡ºğŸ‡¾',
  Paraguay: 'ğŸ‡µğŸ‡¾',
  Bolivia: 'ğŸ‡§ğŸ‡´',
  'Costa Rica': 'ğŸ‡¨ğŸ‡·',
  Panama: 'ğŸ‡µğŸ‡¦',
  Cuba: 'ğŸ‡¨ğŸ‡º',
  'Dominican Republic': 'ğŸ‡©ğŸ‡´',
  'Puerto Rico': 'ğŸ‡µğŸ‡·',
  Jamaica: 'ğŸ‡¯ğŸ‡²',
  Trinidad: 'ğŸ‡¹ğŸ‡¹',
  'Trinidad and Tobago': 'ğŸ‡¹ğŸ‡¹',
  Guatemala: 'ğŸ‡¬ğŸ‡¹',
  Honduras: 'ğŸ‡­ğŸ‡³',
  'El Salvador': 'ğŸ‡¸ğŸ‡»',
  Nicaragua: 'ğŸ‡³ğŸ‡®',
};

const DEFAULT_FLAG = 'ğŸŒ';

const LANGUAGE_CODE_TO_COUNTRY: Record<string, string> = {
  en: 'United Kingdom',
  es: 'Spain',
  ru: 'Russia',
  sr: 'Serbia',
  fr: 'France',
  de: 'Germany',
  it: 'Italy',
  pt: 'Portugal',
  nl: 'Netherlands',
  pl: 'Poland',
  cs: 'Czech Republic',
  sk: 'Slovakia',
  hr: 'Croatia',
  bg: 'Bulgaria',
  ro: 'Romania',
  hu: 'Hungary',
  el: 'Greece',
  tr: 'Turkey',
  ar: 'Saudi Arabia',
  zh: 'China',
  ja: 'Japan',
  ko: 'South Korea',
};

export function getCountryFlag(countryName: string): string {
  if (!countryName?.trim()) return DEFAULT_FLAG;
  const normalized = countryName.trim();
  return COUNTRY_TO_FLAG[normalized] ?? COUNTRY_TO_FLAG[normalized.toLowerCase().replace(/\b\w/g, (c) => c.toUpperCase())] ?? DEFAULT_FLAG;
}

export function getLanguageFlag(languageCode: string): string {
  if (!languageCode?.trim()) return DEFAULT_FLAG;
  const code = languageCode.trim().toLowerCase().split('-')[0];
  const country = LANGUAGE_CODE_TO_COUNTRY[code];
  return country ? getCountryFlag(country) : DEFAULT_FLAG;
}
